(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";var socket=require("./socket");var emitter=require("./emitter");var notify=require("./notify");var utils=require("./browser.utils");var merge=require("lodash.merge");var objGet=require("lodash.get");var storage=require("./store");var BrowserSync=function BrowserSync(options){this.options=options;this.socket=socket;this.emitter=emitter;this.utils=utils;this.store=storage.create(options.sessionId);var _this=this;var bs=this;if(!this.store.get("client")){this.store.set("client",{id:this.socket.socket.id})}var currentId=this.store.get("client.id");bs.register();socket.on("Options.set",function(data){if(data.id===currentId){console.log("received",data.options);merge(_this.options,data.options)}});socket.on("reconnect",function(){utils.reloadBrowser()});var resizing=false;var timeout=1e3;var int;utils.getWindow().addEventListener("resize",function(){if(!resizing){resizing=true;int=setTimeout(function(){resizing=false;clearTimeout(int);bs.register()},timeout)}})};BrowserSync.prototype.register=function(){var bs=this;var options=this.options;socket.emit("Client.register",{client:bs.store.get("client"),data:{hash:utils.getWindow().location.hash,sessionId:options.sessionId,socketId:bs.socket.socket.nsp+"#"+bs.socket.socket.id,browser:{scroll:utils.getBrowserScrollPosition(),dimensions:{width:utils.getDocument().documentElement.scrollWidth,height:utils.getDocument().documentElement.scrollHeight}}}})};BrowserSync.prototype.canSync=function(data,optPath){data=data||{};if(data.override){return true}var canSync=true;if(optPath){canSync=this.getOption(optPath)}return canSync&&data.url===window.location.pathname};BrowserSync.prototype.getOption=function(path){return objGet(this.options,path)};module.exports=BrowserSync},{"./browser.utils":2,"./emitter":5,"./notify":16,"./socket":17,"./store":18,"lodash.get":23,"lodash.merge":26}],2:[function(require,module,exports){"use strict";var utils=exports;var emitter=require("./emitter");utils.getWindow=function(){return window};utils.getDocument=function(){return document};utils.getBrowserScrollPosition=function(){var $window=exports.getWindow();var $document=exports.getDocument();var scrollX;var scrollY;var dElement=$document.documentElement;var dBody=$document.body;if($window.pageYOffset!==undefined){scrollX=$window.pageXOffset;scrollY=$window.pageYOffset}else{scrollX=dElement.scrollLeft||dBody.scrollLeft||0;scrollY=dElement.scrollTop||dBody.scrollTop||0}return{x:scrollX,y:scrollY}};utils.getScrollSpace=function(){var $document=exports.getDocument();var dElement=$document.documentElement;var dBody=$document.body;return{x:dBody.scrollHeight-dElement.clientWidth,y:dBody.scrollHeight-dElement.clientHeight}};utils.saveScrollPosition=function(){var pos=utils.getBrowserScrollPosition();pos=[pos.x,pos.y];utils.getDocument.cookie="bs_scroll_pos="+pos.join(",")};utils.restoreScrollPosition=function(){var pos=utils.getDocument().cookie.replace(/(?:(?:^|.*;\s*)bs_scroll_pos\s*\=\s*([^;]*).*$)|^.*$/,"$1").split(",");utils.getWindow().scrollTo(pos[0],pos[1])};utils.getElementIndex=function(tagName,elem){var allElems=utils.getDocument().getElementsByTagName(tagName);return Array.prototype.indexOf.call(allElems,elem)};utils.forceChange=function(elem){elem.blur();elem.focus()};utils.getElementData=function(elem){var tagName=elem.tagName;var index=utils.getElementIndex(tagName,elem);return{tagName:tagName,index:index}};utils.getSingleElement=function(tagName,index){var elems=utils.getDocument().getElementsByTagName(tagName);return elems[index]};utils.getBody=function(){return utils.getDocument().getElementsByTagName("body")[0]};utils.setScroll=function(pos){utils.getWindow().scrollTo(pos.x,pos.y)};utils.reloadBrowser=function(){emitter.emit("browser:hardReload");utils.getWindow().location.reload(true)};utils.forEach=function(coll,fn){for(var i=0,n=coll.length;i<n;i+=1){fn(coll[i],i,coll)}};utils.isOldIe=function(){return typeof utils.getWindow().attachEvent!=="undefined"}},{"./emitter":5}],3:[function(require,module,exports){"use strict";if(!("indexOf"in Array.prototype)){Array.prototype.indexOf=function(find,i){if(i===undefined){i=0}if(i<0){i+=this.length}if(i<0){i=0}for(var n=this.length;i<n;i+=1){if(i in this&&this[i]===find){return i}}return-1}}},{}],4:[function(require,module,exports){"use strict";var events=require("./events");var utils=require("./browser.utils");var emitter=require("./emitter");var sync=exports;var options={tagNames:{css:"link",jpg:"img",jpeg:"img",png:"img",svg:"img",gif:"img",js:"script"},attrs:{link:"href",img:"src",script:"src"}};var hiddenElem;var OPT_PATH="codeSync";var current=function current(){return window.location.pathname};sync.init=function(bs){if(bs.options.tagNames){options.tagNames=bs.options.tagNames}if(bs.options.scrollRestoreTechnique==="window.name"){}else{sync.saveScrollInCookie(utils.getWindow(),utils.getDocument())}bs.socket.on("Global.inject",sync.reload(bs));bs.socket.on("Global.reload",function(hard){if(bs.canSync({url:current()},OPT_PATH)){sync.reloadBrowser(hard,bs)}})};sync.saveScrollInName=function(){var $window=utils.getWindow();var saved={};emitter.on("browser:hardReload",function(){$window.name=$window.name+"bs="+JSON.stringify({bs:{hardReload:true,scroll:utils.getBrowserScrollPosition()}})});try{var json=$window.name.match(/bs=(.+)$/);if(json){saved=JSON.parse(json[1])}}catch(e){saved={}}if(saved.bs&&saved.bs.hardReload&&saved.bs.scroll){utils.setScroll(saved.bs.scroll)}console.log($window.name);$window.name=""};sync.saveScrollInCookie=function($window,$document){if(!utils.isOldIe()){return}if($document.readyState==="complete"){utils.restoreScrollPosition()}else{events.manager.addEvent($document,"readystatechange",function(){if($document.readyState==="complete"){utils.restoreScrollPosition()}})}emitter.on("browser:hardReload",utils.saveScrollPosition)};sync.swapFile=function(elem,attr,options){var currentValue=elem[attr];var timeStamp=(new Date).getTime();var suffix="?rel="+timeStamp;var justUrl=sync.getFilenameOnly(currentValue);if(justUrl){currentValue=justUrl[0]}if(options){if(!options.timestamps){suffix=""}}elem[attr]=currentValue+suffix;var body=document.body;setTimeout(function(){if(!hiddenElem){hiddenElem=document.createElement("DIV");body.appendChild(hiddenElem)}else{hiddenElem.style.display="none";hiddenElem.style.display="block"}},200);return{elem:elem,timeStamp:timeStamp}};sync.getFilenameOnly=function(url){return/^[^\?]+(?=\?)/.exec(url)};sync.reload=function(bs){return function(data){if(!bs.canSync({url:current()},OPT_PATH)){return}var transformedElem;var options=bs.options;var emitter=bs.emitter;var file=data.file;var domData=sync.getElems(file.ext);var elems=sync.getMatches(domData.elems,file.basename,domData.attr);if(elems.length&&options.notify){emitter.emit("notify",{message:"Injected: "+file.basename})}for(var i=0,n=elems.length;i<n;i+=1){transformedElem=sync.swapFile(elems[i],domData.attr,options)}return transformedElem}};sync.getTagName=function(fileExtension){return options.tagNames[fileExtension]};sync.getAttr=function(tagName){return options.attrs[tagName]};sync.getMatches=function(elems,url,attr){if(url[0]==="*"){return elems}var matches=[];for(var i=0,len=elems.length;i<len;i+=1){if(elems[i][attr].indexOf(url)!==-1){matches.push(elems[i])}}return matches};sync.getElems=function(fileExtension){var tagName=sync.getTagName(fileExtension);var attr=sync.getAttr(tagName);return{elems:document.getElementsByTagName(tagName),attr:attr}};sync.reloadBrowser=function(confirm){if(confirm){utils.reloadBrowser()}}},{"./browser.utils":2,"./emitter":5,"./events":6}],5:[function(require,module,exports){"use strict";exports.events={};exports.emit=function(name,data){var event=exports.events[name];var listeners;if(event&&event.listeners){listeners=event.listeners;for(var i=0,n=listeners.length;i<n;i+=1){listeners[i](data)}}};exports.on=function(name,func){var events=exports.events;if(!events[name]){events[name]={listeners:[func]}}else{events[name].listeners.push(func)}}},{}],6:[function(require,module,exports){"use strict";exports._ElementCache=function(){var cache={},guidCounter=1,expando="data"+(new Date).getTime();this.getData=function(elem){var guid=elem[expando];if(!guid){guid=elem[expando]=guidCounter++;cache[guid]={}}return cache[guid]};this.removeData=function(elem){var guid=elem[expando];if(!guid)return;delete cache[guid];try{delete elem[expando]}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando)}}}};exports._fixEvent=function(event){function returnTrue(){return true}function returnFalse(){return false}if(!event||!event.stopPropagation){var old=event||window.event;event={};for(var prop in old){event[prop]=old[prop]}if(!event.target){event.target=event.srcElement||document}event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;event.preventDefault=function(){event.returnValue=false;event.isDefaultPrevented=returnTrue};event.isDefaultPrevented=returnFalse;event.stopPropagation=function(){event.cancelBubble=true;event.isPropagationStopped=returnTrue};event.isPropagationStopped=returnFalse;event.stopImmediatePropagation=function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()};event.isImmediatePropagationStopped=returnFalse;if(event.clientX!=null){var doc=document.documentElement,body=document.body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode;if(event.button!=null){event.button=event.button&1?0:event.button&4?1:event.button&2?2:0}}return event};exports._EventManager=function(cache){var nextGuid=1;this.addEvent=function(elem,type,fn){var data=cache.getData(elem);if(!data.handlers)data.handlers={};if(!data.handlers[type])data.handlers[type]=[];if(!fn.guid)fn.guid=nextGuid++;data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event){if(data.disabled)return;event=exports._fixEvent(event);var handlers=data.handlers[event.type];if(handlers){for(var n=0;n<handlers.length;n++){handlers[n].call(elem,event)}}}}if(data.handlers[type].length==1){if(document.addEventListener){elem.addEventListener(type,data.dispatcher,false)}else if(document.attachEvent){elem.attachEvent("on"+type,data.dispatcher)}}};function tidyUp(elem,type){function isEmpty(object){for(var prop in object){return false}return true}var data=cache.getData(elem);if(data.handlers[type].length===0){delete data.handlers[type];if(document.removeEventListener){elem.removeEventListener(type,data.dispatcher,false)}else if(document.detachEvent){elem.detachEvent("on"+type,data.dispatcher)}}if(isEmpty(data.handlers)){delete data.handlers;delete data.dispatcher}if(isEmpty(data)){cache.removeData(elem)}}this.removeEvent=function(elem,type,fn){var data=cache.getData(elem);if(!data.handlers)return;var removeType=function removeType(t){data.handlers[t]=[];tidyUp(elem,t)};if(!type){for(var t in data.handlers){removeType(t)}return}var handlers=data.handlers[type];if(!handlers)return;if(!fn){removeType(type);return}if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1)}}}tidyUp(elem,type)};this.proxy=function(context,fn){if(!fn.guid){fn.guid=nextGuid++}var ret=function ret(){return fn.apply(context,arguments)};ret.guid=fn.guid;return ret}};exports.triggerClick=function(elem){var evObj;if(document.createEvent){window.setTimeout(function(){evObj=document.createEvent("MouseEvents");evObj.initEvent("click",true,true);elem.dispatchEvent(evObj)},0)}else{window.setTimeout(function(){if(document.createEventObject){evObj=document.createEventObject();evObj.cancelBubble=true;elem.fireEvent("on"+"click",evObj)}},0)}};var cache=new exports._ElementCache;var eventManager=new exports._EventManager(cache);eventManager.triggerClick=exports.triggerClick;exports.manager=eventManager},{}],7:[function(require,module,exports){"use strict";var EVENT_NAME="click";var OPT_PATH="ghostMode.clicks";exports.canEmitEvents=true;exports.init=function(bs,eventManager){eventManager.addEvent(document.body,EVENT_NAME,exports.browserEvent(bs));bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.browserEvent=function(bs){return function(event){if(exports.canEmitEvents){var elem=event.target||event.srcElement;if(elem.type==="checkbox"||elem.type==="radio"){bs.utils.forceChange(elem);return}bs.socket.emit(EVENT_NAME,bs.utils.getElementData(elem))}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs,eventManager){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var elem=bs.utils.getSingleElement(data.tagName,data.index);if(elem){exports.canEmitEvents=false;eventManager.triggerClick(elem)}}}},{}],8:[function(require,module,exports){"use strict";var EVENT_NAME="input:text";var OPT_PATH="ghostMode.forms.inputs";exports.canEmitEvents=true;exports.init=function(bs,eventManager){eventManager.addEvent(document.body,"keyup",exports.browserEvent(bs));bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.browserEvent=function(bs){return function(event){var elem=event.target||event.srcElement;var data;if(exports.canEmitEvents){if(elem.tagName==="INPUT"||elem.tagName==="TEXTAREA"){data=bs.utils.getElementData(elem);data.value=elem.value;bs.socket.emit(EVENT_NAME,data)}}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var elem=bs.utils.getSingleElement(data.tagName,data.index);if(elem){elem.value=data.value;return elem}return false}}},{}],9:[function(require,module,exports){"use strict";exports.plugins={inputs:require("./ghostmode.forms.input"),toggles:require("./ghostmode.forms.toggles"),submit:require("./ghostmode.forms.submit")};exports.init=function(bs,eventManager){var checkOpt=true;var options=bs.options.ghostMode.forms;if(options===true){checkOpt=false}function init(name){exports.plugins[name].init(bs,eventManager)}for(var name in exports.plugins){if(!checkOpt){init(name)}else{if(options[name]){init(name)}}}}},{"./ghostmode.forms.input":8,"./ghostmode.forms.submit":10,"./ghostmode.forms.toggles":11}],10:[function(require,module,exports){"use strict";var EVENT_NAME="form:submit";var OPT_PATH="ghostMode.forms.submit";exports.canEmitEvents=true;exports.init=function(bs,eventManager){var browserEvent=exports.browserEvent(bs);eventManager.addEvent(document.body,"submit",browserEvent);eventManager.addEvent(document.body,"reset",browserEvent);bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.browserEvent=function(bs){return function(event){if(exports.canEmitEvents){var elem=event.target||event.srcElement;var data=bs.utils.getElementData(elem);data.type=event.type;bs.socket.emit(EVENT_NAME,data)}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var elem=bs.utils.getSingleElement(data.tagName,data.index);exports.canEmitEvents=false;if(elem&&data.type==="submit"){elem.submit()}if(elem&&data.type==="reset"){elem.reset()}return false}}},{}],11:[function(require,module,exports){"use strict";var EVENT_NAME="input:toggles";var OPT_PATH="ghostMode.forms.toggles";exports.canEmitEvents=true;exports.init=function(bs,eventManager){var browserEvent=exports.browserEvent(bs);exports.addEvents(eventManager,browserEvent);bs.socket.on(EVENT_NAME,exports.socketEvent(bs,eventManager))};exports.addEvents=function(eventManager,event){var elems=document.getElementsByTagName("select");var inputs=document.getElementsByTagName("input");addEvents(elems);addEvents(inputs);function addEvents(domElems){for(var i=0,n=domElems.length;i<n;i+=1){eventManager.addEvent(domElems[i],"change",event)}}};exports.browserEvent=function(bs){return function(event){if(exports.canEmitEvents){var elem=event.target||event.srcElement;var data;if(elem.type==="radio"||elem.type==="checkbox"||elem.tagName==="SELECT"){data=bs.utils.getElementData(elem);data.type=elem.type;data.value=elem.value;data.checked=elem.checked;bs.socket.emit(EVENT_NAME,data)}}else{exports.canEmitEvents=true}}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}exports.canEmitEvents=false;var elem=bs.utils.getSingleElement(data.tagName,data.index);if(elem){if(data.type==="radio"){elem.checked=true}if(data.type==="checkbox"){elem.checked=data.checked}if(data.tagName==="SELECT"){elem.value=data.value}return elem}return false}}},{}],12:[function(require,module,exports){"use strict";var eventManager=require("./events").manager;exports.plugins={scroll:require("./ghostmode.scroll"),clicks:require("./ghostmode.clicks"),forms:require("./ghostmode.forms"),location:require("./ghostmode.location")};exports.init=function(bs){for(var name in exports.plugins){exports.plugins[name].init(bs,eventManager)}}},{"./events":6,"./ghostmode.clicks":7,"./ghostmode.forms":9,"./ghostmode.location":13,"./ghostmode.scroll":14}],13:[function(require,module,exports){"use strict";var EVENT_NAME="browser:location";var OPT_PATH="ghostMode.location";exports.canEmitEvents=true;exports.init=function(bs){bs.socket.on(EVENT_NAME,exports.socketEvent(bs))};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}if(data.path){exports.setPath(data.path);if(data.path.match(/#/)){bs.register()}}else{exports.setUrl(data.url)}}};exports.setUrl=function(url){window.location=url};exports.setPath=function(path){window.location=window.location.protocol+"//"+window.location.host+path}},{}],14:[function(require,module,exports){"use strict";var WINDOW_EVENT_NAME="scroll";var ELEMENT_EVENT_NAME="scroll:element";var OPT_PATH="ghostMode.scroll";var utils;exports.canEmitEvents=true;exports.init=function(bs,eventManager){utils=bs.utils;var opts=bs.options;eventManager.addEvent(window,WINDOW_EVENT_NAME,exports.browserEvent(bs));bs.socket.on(WINDOW_EVENT_NAME,exports.socketEvent(bs));var cache={};addElementScrollEvents("scrollElements",false);addElementScrollEvents("scrollElementMapping",true);bs.socket.on(ELEMENT_EVENT_NAME,exports.socketEventForElement(bs,cache));function addElementScrollEvents(key,map){if(!opts[key]||!opts[key].length||!("querySelectorAll"in document)){return}utils.forEach(opts[key],function(selector){var elems=document.querySelectorAll(selector)||[];utils.forEach(elems,function(elem){var data=utils.getElementData(elem);data.cacheSelector=data.tagName+":"+data.index;data.map=map;cache[data.cacheSelector]=elem;eventManager.addEvent(elem,WINDOW_EVENT_NAME,exports.browserEventForElement(bs,elem,data))})})}};exports.socketEvent=function(bs){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}var scrollSpace=utils.getScrollSpace();exports.canEmitEvents=false;if(bs.options&&bs.options.scrollProportionally){return window.scrollTo(0,scrollSpace.y*data.position.proportional)}else{return window.scrollTo(0,data.position.raw)}}};exports.socketEventForElement=function(bs,cache){return function(data){if(!bs.canSync(data,OPT_PATH)){return false}exports.canEmitEvents=false;function scrollOne(selector,pos){if(cache[selector]){cache[selector].scrollTop=pos}}if(data.map){return Object.keys(cache).forEach(function(key){scrollOne(key,data.position)})}scrollOne(data.elem.cacheSelector,data.position)}};exports.browserEventForElement=function(bs,elem,data){return function(){var canSync=exports.canEmitEvents;if(canSync){bs.socket.emit(ELEMENT_EVENT_NAME,{position:elem.scrollTop,elem:data,map:data.map})}exports.canEmitEvents=true}};exports.browserEvent=function(bs){return function(){var canSync=exports.canEmitEvents;if(canSync){bs.socket.emit(WINDOW_EVENT_NAME,{position:exports.getScrollPosition()})}exports.canEmitEvents=true}};exports.getScrollPosition=function(){var pos=utils.getBrowserScrollPosition();return{raw:pos,proportional:exports.getScrollTopPercentage(pos)}};exports.getScrollPercentage=function(scrollSpace,scrollPosition){var x=scrollPosition.x/scrollSpace.x;var y=scrollPosition.y/scrollSpace.y;return{x:x||0,y:y}};exports.getScrollTopPercentage=function(pos){var scrollSpace=utils.getScrollSpace();var percentage=exports.getScrollPercentage(scrollSpace,pos);return percentage.y}},{}],15:[function(require,module,exports){"use strict";var socket=require("./socket");var shims=require("./client-shims");var notify=require("./notify");var codeSync=require("./code-sync");var BrowserSync=require("./browser-sync");var ghostMode=require("./ghostmode");var emitter=require("./emitter");var events=require("./events");var utils=require("./browser.utils");var shouldReload=false;var initialised=false;exports.init=function(options){if(shouldReload&&options.reloadOnRestart){utils.reloadBrowser()}var BS=window.___browserSync___||{};if(!BS.client){BS.client=true;var browserSync=new BrowserSync(options);ghostMode.init(browserSync);codeSync.init(browserSync);notify.init(browserSync);if(options.notify){notify.flash("Connected to BrowserSync as "+browserSync.store.get("client.id"))}}if(!initialised){socket.on("disconnect",function(){if(options.notify){notify.flash("Disconnected from BrowserSync")}shouldReload=true});initialised=true}};socket.on("connection",exports.init)},{"./browser-sync":1,"./browser.utils":2,"./client-shims":3,"./code-sync":4,"./emitter":5,"./events":6,"./ghostmode":12,"./notify":16,"./socket":17}],16:[function(require,module,exports){"use strict";var scroll=require("./ghostmode.scroll");var styles=["display: none","padding: 15px","font-family: sans-serif","position: fixed","font-size: 0.9em","z-index: 9999","right: 0px","top: 0px","border-bottom-left-radius: 5px","background-color: #1B2032","margin: 0","color: white","text-align: center"];var browserSync;var elem;var options;var timeoutInt;exports.init=function(bs){browserSync=bs;options=bs.options;var cssStyles=styles;if(options.notify.styles){cssStyles=options.notify.styles}elem=document.createElement("DIV");elem.id="__bs_notify__";elem.style.cssText=cssStyles.join(";");document.getElementsByTagName("body")[0].appendChild(elem);var flashFn=exports.watchEvent();browserSync.emitter.on("notify",flashFn);browserSync.socket.on("browser:notify",flashFn);return elem};exports.watchEvent=function(){return function(data){if(typeof data==="string"){return exports.flash(data)}exports.flash(data.message,data.timeout)}};exports.getElem=function(){return elem};exports.getScrollTop=function(){return browserSync.utils.getBrowserScrollPosition().y};exports.flash=function(message,timeout){var elem=exports.getElem();if(!elem){return false}elem.innerHTML=message;elem.style.display="block";if(timeoutInt){clearTimeout(timeoutInt);timeoutInt=undefined}timeoutInt=window.setTimeout(function(){elem.style.display="none"},timeout||2e3);return elem}},{"./ghostmode.scroll":14}],17:[function(require,module,exports){"use strict";var BS=window.___browserSync___||{};exports.socket=BS.socket||{emit:function emit(){},on:function on(){}};exports.getPath=function(){return window.location.pathname};exports.emit=function(name,data){var socket=exports.socket;if(socket&&socket.emit){data.url=exports.getPath();socket.emit(name,data)}};exports.on=function(name,func){exports.socket.on(name,func)}},{}],18:[function(require,module,exports){"use strict";var utils=require("./browser.utils");var $window=utils.getWindow();var merge=require("lodash.merge");var objGet=require("lodash.get");var objSet=require("lodash.set");var PREFIX="bs=";function getFromName(){try{var json=$window.name.match(/bs=(.+)$/);if(json){return JSON.parse(json[1])}}catch(e){console.log("Could not parse saved JSON")}return{}}function saveInName(incoming){$window.name=PREFIX+JSON.stringify(incoming)}function wipeName(){$window.name=""}function createFromId(id){function get(path){if(typeof path==="string"){path=path.split(".")}var prev=getFromName();if(prev[id]){return objGet(prev,[id].concat(path))}return undefined}function set(path,value,mergeValues){var prev=getFromName();if(prev[id]){var newValues=mergeValues?merge({},objGet(prev[id],path),value):value;objSet(prev[id],path,newValues);saveInName(prev);return prev}else{wipeName();var newSession={};newSession[id]=objSet({},path,value);saveInName(newSession);return newSession}}return{get:get,set:set,merge:merge}}function create(id){return createFromId(id)}module.exports.create=create},{"./browser.utils":2,"lodash.get":23,"lodash.merge":26,"lodash.set":28}],19:[function(require,module,exports){(function(global){var LARGE_ARRAY_SIZE=200;var HASH_UNDEFINED="__lodash_hash_undefined__";var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reFlags=/\w*$/;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsUint=/^(?:0|[1-9]\d*)$/;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=true;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=false;var objectTypes={"function":true,object:true};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var moduleExports=freeModule&&freeModule.exports===freeExports?freeExports:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();function addMapEntry(map,pair){map.set(pair[0],pair[1]);return map}function addSetEntry(set,value){set.add(value);return set}function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function arrayPush(array,values){var index=-1,length=values.length,offset=array.length;while(++index<length){array[offset+index]=values[index]}return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array.length;if(initAccum&&length){accumulator=array[++index]}while(++index<length){accumulator=iteratee(accumulator,array[index],index,array)}return accumulator}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}function checkGlobal(value){return value&&value.Object===Object?value:null}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value]});return result}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value});return result}var arrayProto=Array.prototype,objectProto=Object.prototype;var funcToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Buffer=moduleExports?root.Buffer:undefined,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getOwnPropertySymbols=Object.getOwnPropertySymbols,objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice;var nativeGetPrototype=Object.getPrototypeOf,nativeKeys=Object.keys;var DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create");var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined;function Hash(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;data[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value;return this}Hash.prototype.clear=hashClear;Hash.prototype["delete"]=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false}var lastIndex=data.length-1;if(index==lastIndex){data.pop()}else{splice.call(data,index,1)}return true}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){data.push([key,value])}else{data[index][1]=value}return this}ListCache.prototype.clear=listCacheClear;ListCache.prototype["delete"]=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash
}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){getMapData(this,key).set(key,value);return this}MapCache.prototype.clear=mapCacheClear;MapCache.prototype["delete"]=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__["delete"](key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache&&cache.__data__.length==LARGE_ARRAY_SIZE){cache=this.__data__=new MapCache(cache.__data__)}cache.set(key,value);return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){object[key]=value}}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer){result=object?customizer(value,key,object,stack):customizer(value)}if(result!==undefined){return result}if(!isObject(value)){return value}var isArr=isArray(value);if(isArr){result=initCloneArray(value);if(!isDeep){return copyArray(value,result)}}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value)){return cloneBuffer(value,isDeep)}if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value)){return object?value:{}}result=initCloneObject(isFunc?{}:value);if(!isDeep){return copySymbols(value,baseAssign(result,value))}}else{if(!cloneableTags[tag]){return object?value:{}}result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked){return stacked}stack.set(value,result);if(!isArr){var props=isFull?getAllKeys(value):keys(value)}arrayEach(props||value,function(subValue,key){if(props){key=subValue;subValue=value[key]}assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))});return result}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseHas(object,key){return hasOwnProperty.call(object,key)||typeof object=="object"&&key in object&&getPrototype(object)===null}function baseKeys(object){return nativeKeys(Object(object))}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function cloneBuffer(buffer,isDeep){if(isDeep){return buffer.slice()}var result=new buffer.constructor(buffer.length);buffer.copy(result);return result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);new Uint8Array(result).set(new Uint8Array(arrayBuffer));return result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),true):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));result.lastIndex=regexp.lastIndex;return result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),true):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):source[key];assignValue(object,key,newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}var getLength=baseProperty("length");function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=="string"?"string":"hash"]:data.map}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function getPrototype(value){return nativeGetPrototype(Object(value))}function getSymbols(object){return getOwnPropertySymbols(Object(object))}if(!getOwnPropertySymbols){getSymbols=function(){return[]}}function getTag(value){return objectToString.call(value)}if(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag){getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):undefined;if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}}return result}}function initCloneArray(array){var length=array.length,result=array.constructor(length);if(length&&typeof array[0]=="string"&&hasOwnProperty.call(array,"index")){result.index=array.index;result.input=array.input}return result}function initCloneObject(object){return typeof object.constructor=="function"&&!isPrototype(object)?baseCreate(getPrototype(object)):{}}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function indexKeys(object){var length=object?object.length:undefined;if(isLength(length)&&(isArray(object)||isString(object)||isArguments(object))){return baseTimes(length,String)}return null}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isKeyable(value){var type=typeof value;return type=="string"||type=="number"||type=="symbol"||type=="boolean"?value!=="__proto__":value===null}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=!Buffer?constant(false):function(value){return value instanceof Buffer};function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isNative(value){if(!isObject(value)){return false}var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function isString(value){return typeof value=="string"||!isArray(value)&&isObjectLike(value)&&objectToString.call(value)==stringTag}function keys(object){var isProto=isPrototype(object);if(!(isProto||isArrayLike(object))){return baseKeys(object)}var indexes=indexKeys(object),skipIndexes=!!indexes,result=indexes||[],length=result.length;for(var key in object){if(baseHas(object,key)&&!(skipIndexes&&(key=="length"||isIndex(key,length)))&&!(isProto&&key=="constructor")){result.push(key)}}return result}function constant(value){return function(){return value}}module.exports=baseClone}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],20:[function(require,module,exports){var stringToPath=require("lodash._stringtopath");var MAX_SAFE_INTEGER=9007199254740991;var symbolTag="[object Symbol]";var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;var reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){object[key]=value}}function baseSet(object,path,value,customizer){path=isKey(path,object)?[path]:castPath(path);var index=-1,length=path.length,lastIndex=length-1,nested=object;while(nested!=null&&++index<length){var key=path[index];if(isObject(nested)){var newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):undefined;if(newValue===undefined){newValue=objValue==null?isIndex(path[index+1])?[]:{}:objValue}}assignValue(nested,key,newValue)}nested=nested[key]}return object}function castPath(value){return isArray(value)?value:stringToPath(value)}function isKey(value,object){var type=typeof value;if(type=="number"||type=="symbol"){return true}return!isArray(value)&&(isSymbol(value)||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object))}function eq(value,other){return value===other||value!==value&&other!==other}var isArray=Array.isArray;function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}module.exports=baseSet},{"lodash._stringtopath":22}],21:[function(require,module,exports){(function(global){var LARGE_ARRAY_SIZE=200;var HASH_UNDEFINED="__lodash_hash_undefined__";var funcTag="[object Function]",genTag="[object GeneratorFunction]";var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var objectTypes={"function":true,object:true};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();function checkGlobal(value){return value&&value.Object===Object?value:null}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}var arrayProto=Array.prototype,objectProto=Object.prototype;var funcToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var splice=arrayProto.splice;var Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create");function Hash(){}function hashDelete(hash,key){return hashHas(hash,key)&&delete hash[key]}function hashGet(hash,key){if(nativeCreate){var result=hash[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(hash,key)?hash[key]:undefined}function hashHas(hash,key){return nativeCreate?hash[key]!==undefined:hasOwnProperty.call(hash,key)}function hashSet(hash,key,value){hash[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value}Hash.prototype=nativeCreate?nativeCreate(null):objectProto;function MapCache(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(key){var data=this.__data__;if(isKeyable(key)){return hashDelete(typeof key=="string"?data.string:data.hash,key)}return Map?data.map["delete"](key):assocDelete(data.map,key)}function mapGet(key){var data=this.__data__;if(isKeyable(key)){return hashGet(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.get(key):assocGet(data.map,key)}function mapHas(key){var data=this.__data__;if(isKeyable(key)){return hashHas(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.has(key):assocHas(data.map,key)}function mapSet(key,value){var data=this.__data__;if(isKeyable(key)){hashSet(typeof key=="string"?data.string:data.hash,key,value)}else if(Map){data.map.set(key,value)}else{assocSet(data.map,key,value)}return this}MapCache.prototype.clear=mapClear;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;function Stack(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function stackClear(){this.__data__={array:[],map:null}}function stackDelete(key){var data=this.__data__,array=data.array;return array?assocDelete(array,key):data.map["delete"](key)}function stackGet(key){var data=this.__data__,array=data.array;return array?assocGet(array,key):data.map.get(key)}function stackHas(key){var data=this.__data__,array=data.array;return array?assocHas(array,key):data.map.has(key)}function stackSet(key,value){var data=this.__data__,array=data.array;if(array){if(array.length<LARGE_ARRAY_SIZE-1){assocSet(array,key,value)}else{data.array=null;data.map=new MapCache(array)}}var map=data.map;if(map){map.set(key,value)}return this}Stack.prototype.clear=stackClear;Stack.prototype["delete"]=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function assocDelete(array,key){var index=assocIndexOf(array,key);if(index<0){return false}var lastIndex=array.length-1;if(index==lastIndex){array.pop()}else{splice.call(array,index,1)}return true}function assocGet(array,key){var index=assocIndexOf(array,key);return index<0?undefined:array[index][1]}function assocHas(array,key){return assocIndexOf(array,key)>-1}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function assocSet(array,key,value){var index=assocIndexOf(array,key);if(index<0){array.push([key,value])}else{array[index][1]=value}}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function isKeyable(value){var type=typeof value;return type=="number"||type=="boolean"||type=="string"&&value!="__proto__"||value==null}function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isNative(value){if(!isObject(value)){return false}var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}module.exports=Stack}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],22:[function(require,module,exports){(function(global){var FUNC_ERROR_TEXT="Expected a function";var HASH_UNDEFINED="__lodash_hash_undefined__";var INFINITY=1/0;var funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]";var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reEscapeChar=/\\(\\)?/g;var reIsHostCtor=/^\[object .+?Constructor\]$/;var objectTypes={"function":true,object:true};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();function checkGlobal(value){return value&&value.Object===Object?value:null}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}var arrayProto=Array.prototype,objectProto=Object.prototype;var funcToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Symbol=root.Symbol,splice=arrayProto.splice;var Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create");var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function Hash(){}function hashDelete(hash,key){return hashHas(hash,key)&&delete hash[key]}function hashGet(hash,key){if(nativeCreate){var result=hash[key];return result===HASH_UNDEFINED?undefined:result}return hasOwnProperty.call(hash,key)?hash[key]:undefined}function hashHas(hash,key){return nativeCreate?hash[key]!==undefined:hasOwnProperty.call(hash,key)}function hashSet(hash,key,value){hash[key]=nativeCreate&&value===undefined?HASH_UNDEFINED:value}Hash.prototype=nativeCreate?nativeCreate(null):objectProto;function MapCache(values){var index=-1,length=values?values.length:0;this.clear();while(++index<length){var entry=values[index];this.set(entry[0],entry[1])}}function mapClear(){this.__data__={hash:new Hash,map:Map?new Map:[],string:new Hash}}function mapDelete(key){var data=this.__data__;if(isKeyable(key)){return hashDelete(typeof key=="string"?data.string:data.hash,key)}return Map?data.map["delete"](key):assocDelete(data.map,key)}function mapGet(key){var data=this.__data__;if(isKeyable(key)){return hashGet(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.get(key):assocGet(data.map,key)}function mapHas(key){var data=this.__data__;if(isKeyable(key)){return hashHas(typeof key=="string"?data.string:data.hash,key)}return Map?data.map.has(key):assocHas(data.map,key)}function mapSet(key,value){var data=this.__data__;if(isKeyable(key)){hashSet(typeof key=="string"?data.string:data.hash,key,value)}else if(Map){data.map.set(key,value)}else{assocSet(data.map,key,value)}return this}MapCache.prototype.clear=mapClear;MapCache.prototype["delete"]=mapDelete;MapCache.prototype.get=mapGet;MapCache.prototype.has=mapHas;MapCache.prototype.set=mapSet;function assocDelete(array,key){var index=assocIndexOf(array,key);if(index<0){return false}var lastIndex=array.length-1;if(index==lastIndex){array.pop()}else{splice.call(array,index,1)}return true}function assocGet(array,key){var index=assocIndexOf(array,key);return index<0?undefined:array[index][1]}function assocHas(array,key){return assocIndexOf(array,key)>-1}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length}}return-1}function assocSet(array,key,value){var index=assocIndexOf(array,key);if(index<0){array.push([key,value])}else{array[index][1]=value}}function getNative(object,key){var value=object[key];return isNative(value)?value:undefined}function isKeyable(value){var type=typeof value;return type=="number"||type=="boolean"||type=="string"&&value!="__proto__"||value==null}var stringToPath=memoize(function(string){var result=[];toString(string).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)});return result});function toSource(func){if(func!=null){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if(typeof func!="function"||resolver&&typeof resolver!="function"){throw new TypeError(FUNC_ERROR_TEXT)}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key)}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result};memoized.cache=new(memoize.Cache||MapCache);return memoized}memoize.Cache=MapCache;function eq(value,other){return value===other||value!==value&&other!==other}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isNative(value){if(!isObject(value)){return false}var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=stringToPath}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],23:[function(require,module,exports){var stringToPath=require("lodash._stringtopath");var symbolTag="[object Symbol]";var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;var objectProto=Object.prototype;var objectToString=objectProto.toString;function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);var index=0,length=path.length;while(object!=null&&index<length){object=object[path[index++]]}return index&&index==length?object:undefined}function castPath(value){return isArray(value)?value:stringToPath(value)}function isKey(value,object){var type=typeof value;if(type=="number"||type=="symbol"){return true}return!isArray(value)&&(isSymbol(value)||reIsPlainProp.test(value)||!reIsDeepProp.test(value)||object!=null&&value in Object(object))}var isArray=Array.isArray;function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result}module.exports=get},{"lodash._stringtopath":22}],24:[function(require,module,exports){var objectTag="[object Object]";function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}function overArg(func,transform){return function(arg){return func(transform(arg))}}var funcProto=Function.prototype,objectProto=Object.prototype;var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);var objectToString=objectProto.toString;var getPrototype=overArg(Object.getPrototypeOf,Object);function isObjectLike(value){return!!value&&typeof value=="object"}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value)){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},{}],25:[function(require,module,exports){var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]";var reIsUint=/^(?:0|[1-9]\d*)$/;function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index)}return result}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var propertyIsEnumerable=objectProto.propertyIsEnumerable;function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[];var length=result.length,skipIndexes=!!length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=="length"||isIndex(key,length)))){result.push(key)}}return result}function baseKeysIn(object){if(!isObject(object)){return nativeKeysIn(object)}var isProto=isPrototype(object),result=[];for(var key in object){if(!(key=="constructor"&&(isProto||!hasOwnProperty.call(object,key)))){result.push(key)}}return result}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=="number"||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length)}function isPrototype(value){var Ctor=value&&value.constructor,proto=typeof Ctor=="function"&&Ctor.prototype||objectProto;return value===proto}function nativeKeysIn(object){var result=[];if(object!=null){for(var key in Object(object)){result.push(key)}}return result}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,true):baseKeysIn(object)}module.exports=keysIn},{}],26:[function(require,module,exports){var Stack=require("lodash._stack"),baseClone=require("lodash._baseclone"),isPlainObject=require("lodash.isplainobject"),keysIn=require("lodash.keysin"),rest=require("lodash.rest");var MAX_SAFE_INTEGER=9007199254740991;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]";var arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]";var reIsUint=/^(?:0|[1-9]\d*)$/;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;function arrayEach(array,iteratee){var index=-1,length=array.length;while(++index<length){if(iteratee(array[index],index,array)===false){break}}return array}function isIndex(value,length){value=typeof value=="number"||reIsUint.test(value)?+value:-1;length=length==null?MAX_SAFE_INTEGER:length;return value>-1&&value%1==0&&value<length}var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var propertyIsEnumerable=objectProto.propertyIsEnumerable;function assignMergeValue(object,key,value){if(value!==undefined&&!eq(object[key],value)||typeof key=="number"&&value===undefined&&!(key in object)){object[key]=value}}function assignValue(object,key,value){var objValue=object[key];if(!(hasOwnProperty.call(object,key)&&eq(objValue,value))||value===undefined&&!(key in object)){object[key]=value}}function baseMerge(object,source,srcIndex,customizer,stack){if(object===source){return}if(!(isArray(source)||isTypedArray(source))){var props=keysIn(source)}arrayEach(props||source,function(srcValue,key){if(props){key=srcValue;srcValue=source[key]}if(isObject(srcValue)){stack||(stack=new Stack);baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack)}else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):undefined;if(newValue===undefined){newValue=srcValue}assignMergeValue(object,key,newValue)}})}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked){assignMergeValue(object,key,stacked);return}var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined;var isCommon=newValue===undefined;if(isCommon){newValue=srcValue;if(isArray(srcValue)||isTypedArray(srcValue)){if(isArray(objValue)){newValue=objValue}else if(isArrayLikeObject(objValue)){
newValue=copyArray(objValue)}else{isCommon=false;newValue=baseClone(srcValue,true)}}else if(isPlainObject(srcValue)||isArguments(srcValue)){if(isArguments(objValue)){newValue=toPlainObject(objValue)}else if(!isObject(objValue)||srcIndex&&isFunction(objValue)){isCommon=false;newValue=baseClone(srcValue,true)}else{newValue=objValue}}else{isCommon=false}}stack.set(srcValue,newValue);if(isCommon){mergeFunc(newValue,srcValue,srcIndex,customizer,stack)}stack["delete"](srcValue);assignMergeValue(object,key,newValue)}function baseProperty(key){return function(object){return object==null?undefined:object[key]}}function copyArray(source,array){var index=-1,length=source.length;array||(array=Array(length));while(++index<length){array[index]=source[index]}return array}function copyObject(source,props,object,customizer){object||(object={});var index=-1,length=props.length;while(++index<length){var key=props[index];var newValue=customizer?customizer(object[key],source[key],key,object,source):source[key];assignValue(object,key,newValue)}return object}function createAssigner(assigner){return rest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;customizer=typeof customizer=="function"?(length--,customizer):undefined;if(guard&&isIterateeCall(sources[0],sources[1],guard)){customizer=length<3?undefined:customizer;length=1}object=Object(object);while(++index<length){var source=sources[index];if(source){assigner(object,source,index,customizer)}}return object})}var getLength=baseProperty("length");function isIterateeCall(value,index,object){if(!isObject(object)){return false}var type=typeof index;if(type=="number"?isArrayLike(object)&&isIndex(index,object.length):type=="string"&&index in object){return eq(object[index],value)}return false}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(getLength(value))&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return typeof value=="number"&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function toPlainObject(value){return copyObject(value,keysIn(value))}var merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});module.exports=merge},{"lodash._baseclone":19,"lodash._stack":21,"lodash.isplainobject":24,"lodash.keysin":25,"lodash.rest":27}],27:[function(require,module,exports){var FUNC_ERROR_TEXT="Expected a function";var INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308,NAN=0/0;var symbolTag="[object Symbol]";var reTrim=/^\s+|\s+$/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsOctal=/^0o[0-7]+$/i;var freeParseInt=parseInt;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}var objectProto=Object.prototype;var objectToString=objectProto.toString;var nativeMax=Math.max;function baseRest(func,start){start=nativeMax(start===undefined?func.length-1:start,0);return function(){var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);while(++index<length){array[index]=args[start+index]}index=-1;var otherArgs=Array(start+1);while(++index<start){otherArgs[index]=args[index]}otherArgs[start]=array;return apply(func,this,otherArgs)}}function rest(func,start){if(typeof func!="function"){throw new TypeError(FUNC_ERROR_TEXT)}start=start===undefined?start:toInteger(start);return baseRest(func,start)}function isObject(value){var type=typeof value;return!!value&&(type=="object"||type=="function")}function isObjectLike(value){return!!value&&typeof value=="object"}function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toFinite(value){if(!value){return value===0?value:0}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toNumber(value){if(typeof value=="number"){return value}if(isSymbol(value)){return NAN}if(isObject(value)){var other=typeof value.valueOf=="function"?value.valueOf():value;value=isObject(other)?other+"":other}if(typeof value!="string"){return value===0?value:+value}value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}module.exports=rest},{}],28:[function(require,module,exports){var baseSet=require("lodash._baseset");function set(object,path,value){return object==null?object:baseSet(object,path,value)}module.exports=set},{"lodash._baseset":20}]},{},[15]);